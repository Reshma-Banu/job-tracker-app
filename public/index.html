<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Job Hunt Tracker</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }
    
    ::-webkit-scrollbar {
      width: 8px;
      height: 0;
    }

    ::-webkit-scrollbar-track {
      background: rgba(15, 23, 42, 0.3);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb {
      background: linear-gradient(to bottom, #06b6d4, #3b82f6);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(to bottom, #0891b2, #2563eb);
    }

    /* Custom select dropdown styling */
    select option {
      background-color: #1e293b;
      color: #e2e8f0;
      padding: 8px;
    }

    select option:checked {
      background-color: #0891b2;
      color: white;
    }
  </style>
</head>
<body>
  <div id="root"></div>
  
  <script type="text/babel">
    const { useState, useEffect } = React;
    
    // Icons
    const Plus = () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>;
    const ExternalLink = () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>;
    const Calendar = () => <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>;
    const MapPin = () => <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>;
    const Briefcase = () => <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path></svg>;
    const ChevronRight = () => <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>;
    const Search = () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>;
    const Filter = () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon></svg>;
    const X = () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>;
    const Edit2 = () => <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path></svg>;
    const Trash2 = () => <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>;
    const Save = () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline></svg>;
    const Menu = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>;
    const Globe = () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>;
    const DollarSign = () => <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg>;

    const API_URL = 'http://localhost:3001/api';

    function JobTracker() {
      const stages = ['Applied', 'Interview', 'Offered', 'Accepted', 'Rejected'];
      
      const [jobs, setJobs] = useState([]);
      const [showModal, setShowModal] = useState(false);
      const [showSidebar, setShowSidebar] = useState(false);
      const [editingJob, setEditingJob] = useState(null);
      const [searchTerm, setSearchTerm] = useState('');
      const [filterCountry, setFilterCountry] = useState('');
      const [loading, setLoading] = useState(true);
      const [countryStats, setCountryStats] = useState({});
      const [formData, setFormData] = useState({
        url: '',
        title: '',
        company: '',
        city: '',
        country: '',
        salary: '',
        visaSponsored: 'Not sure',
        appliedDate: new Date().toISOString().split('T')[0],
        status: 'Applied'
      });

      useEffect(() => {
        fetchJobs();
      }, []);

      useEffect(() => {
        // Update country stats whenever jobs change
        updateCountryStats();
      }, [jobs]);

      const fetchJobs = async () => {
        try {
          const response = await fetch(`${API_URL}/jobs`);
          const data = await response.json();
          setJobs(data);
          setLoading(false);
        } catch (error) {
          console.error('Error fetching jobs:', error);
          setLoading(false);
        }
      };

      const updateCountryStats = () => {
        const stats = {};
        jobs.forEach(job => {
          const country = job.country || 'Unknown';
          stats[country] = (stats[country] || 0) + 1;
        });
        setCountryStats(stats);
      };

      const handleSubmit = async (e) => {
        e.preventDefault();
        
        try {
          if (editingJob) {
            const response = await fetch(`${API_URL}/jobs/${editingJob.id}`, {
              method: 'PUT',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify(formData)
            });
            const updatedJob = await response.json();
            setJobs(jobs.map(j => j.id === editingJob.id ? updatedJob : j));
            setEditingJob(null);
          } else {
            const response = await fetch(`${API_URL}/jobs`, {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify(formData)
            });
            const newJob = await response.json();
            setJobs([...jobs, newJob]);
          }
          
          resetForm();
          setShowModal(false);
        } catch (error) {
          console.error('Error saving job:', error);
          alert('Failed to save job. Please try again.');
        }
      };

      const resetForm = () => {
        setFormData({
          url: '',
          title: '',
          company: '',
          city: '',
          country: '',
          salary: '',
          visaSponsored: 'Not sure',
          appliedDate: new Date().toISOString().split('T')[0],
          status: 'Applied'
        });
        setEditingJob(null);
      };

      const handleEdit = (job) => {
        setEditingJob(job);
        setFormData({
          url: job.url || '',
          title: job.title,
          company: job.company,
          city: job.city || '',
          country: job.country || '',
          salary: job.salary || '',
          visaSponsored: job.visaSponsored || 'Not sure',
          appliedDate: job.appliedDate || new Date().toISOString().split('T')[0],
          status: job.status
        });
        setShowModal(true);
      };

      const handleDelete = async (jobId) => {
        if (confirm('Are you sure you want to delete this job?')) {
          try {
            await fetch(`${API_URL}/jobs/${jobId}`, {
              method: 'DELETE'
            });
            setJobs(jobs.filter(j => j.id !== jobId));
          } catch (error) {
            console.error('Error deleting job:', error);
            alert('Failed to delete job. Please try again.');
          }
        }
      };

      const moveJob = async (jobId, newStatus) => {
        try {
          const job = jobs.find(j => j.id === jobId);
          const response = await fetch(`${API_URL}/jobs/${jobId}`, {
            method: 'PUT',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ ...job, status: newStatus })
          });
          const updatedJob = await response.json();
          setJobs(jobs.map(j => j.id === jobId ? updatedJob : j));
        } catch (error) {
          console.error('Error moving job:', error);
          alert('Failed to move job. Please try again.');
        }
      };

      const getJobsByStage = (stage) => {
        return jobs.filter(job => {
          const matchesStage = job.status === stage;
          const matchesSearch = searchTerm === '' || 
            job.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
            job.company.toLowerCase().includes(searchTerm.toLowerCase());
          const matchesCountry = filterCountry === '' || job.country === filterCountry;
          return matchesStage && matchesSearch && matchesCountry;
        });
      };

      const uniqueCountries = [...new Set(jobs.map(j => j.country).filter(Boolean))].sort();

      const getRelativeTime = (dateString) => {
        const date = new Date(dateString);
        const now = new Date();
        const diffMs = now - date;
        const diffMins = Math.floor(diffMs / 60000);
        const diffHours = Math.floor(diffMs / 3600000);
        const diffDays = Math.floor(diffMs / 86400000);

        if (diffMins < 60) return `${diffMins} minutes ago`;
        if (diffHours < 24) return `${diffHours} hours ago`;
        return `${diffDays} days ago`;
      };

      // Count jobs in Applied status only
      const appliedJobsCount = jobs.filter(j => j.status === 'Applied').length;

      if (loading) {
        return (
          <div className="min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center">
            <div className="text-cyan-400 text-xl">Loading...</div>
          </div>
        );
      }

      return (
        <div className="min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900">
          {/* Sidebar */}
          <div className={`fixed inset-y-0 left-0 z-50 w-80 bg-slate-800 border-r border-slate-700 transform transition-transform duration-300 ${showSidebar ? 'translate-x-0' : '-translate-x-full'}`}>
            <div className="p-6">
              <div className="flex items-center justify-between mb-6">
                <h2 className="text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400">
                  Statistics
                </h2>
                <button
                  onClick={() => setShowSidebar(false)}
                  className="p-2 hover:bg-slate-700 rounded-lg transition-colors"
                >
                  <X />
                </button>
              </div>

              <div className="space-y-4">
                <div className="bg-slate-900/50 rounded-xl p-4 border border-slate-700">
                  <h3 className="text-slate-400 text-sm mb-3 flex items-center gap-2">
                    <Globe />
                    Jobs by Country
                  </h3>
                  <div className="space-y-2">
                    {Object.entries(countryStats).length === 0 ? (
                      <p className="text-slate-500 text-sm">No data yet</p>
                    ) : (
                      Object.entries(countryStats)
                        .sort((a, b) => b[1] - a[1])
                        .map(([country, count]) => (
                          <div key={country} className="flex items-center justify-between">
                            <span className="text-slate-300">{country || 'Unknown'}</span>
                            <span className="text-cyan-400 font-semibold">{count}</span>
                          </div>
                        ))
                    )}
                  </div>
                </div>

                <div className="bg-slate-900/50 rounded-xl p-4 border border-slate-700">
                  <h3 className="text-slate-400 text-sm mb-3">Total Statistics</h3>
                  <div className="space-y-2">
                    <div className="flex items-center justify-between">
                      <span className="text-slate-300">Total Jobs</span>
                      <span className="text-cyan-400 font-semibold">{jobs.length}</span>
                    </div>
                    <div className="flex items-center justify-between">
                      <span className="text-slate-300">Applied</span>
                      <span className="text-blue-400 font-semibold">{jobs.filter(j => j.status === 'Applied').length}</span>
                    </div>
                    <div className="flex items-center justify-between">
                      <span className="text-slate-300">Interviews</span>
                      <span className="text-purple-400 font-semibold">{jobs.filter(j => j.status === 'Interview').length}</span>
                    </div>
                    <div className="flex items-center justify-between">
                      <span className="text-slate-300">Offers</span>
                      <span className="text-emerald-400 font-semibold">{jobs.filter(j => j.status === 'Offered').length}</span>
                    </div>
                    <div className="flex items-center justify-between">
                      <span className="text-slate-300">Accepted</span>
                      <span className="text-cyan-400 font-semibold">{jobs.filter(j => j.status === 'Accepted').length}</span>
                    </div>
                    <div className="flex items-center justify-between">
                      <span className="text-slate-300">Rejected</span>
                      <span className="text-red-400 font-semibold">{jobs.filter(j => j.status === 'Rejected').length}</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          {/* Overlay */}
          {showSidebar && (
            <div 
              className="fixed inset-0 bg-black/50 z-40"
              onClick={() => setShowSidebar(false)}
            />
          )}

          {/* Header */}
          <div className="sticky top-0 z-30 backdrop-blur-xl bg-slate-900/80 border-b border-slate-700/50">
            <div className="max-w-[1800px] mx-auto px-6 py-6">
              <div className="flex items-center justify-between mb-6">
                <div className="flex items-center gap-4">
                  <button
                    onClick={() => setShowSidebar(true)}
                    className="p-2 hover:bg-slate-800 rounded-lg transition-colors text-slate-400 hover:text-cyan-400"
                  >
                    <Menu />
                  </button>
                  <div>
                    <h1 className="text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 mb-2">
                      Job Hunt Tracker
                    </h1>
                    <p className="text-slate-400 text-sm">
                      {jobs.length} opportunities • {appliedJobsCount} applications sent
                    </p>
                  </div>
                </div>
                <button
                  onClick={() => setShowModal(true)}
                  className="group relative px-6 py-3 bg-gradient-to-r from-cyan-500 to-blue-500 text-white rounded-xl font-semibold hover:shadow-lg hover:shadow-cyan-500/30 transition-all duration-300 hover:scale-105 flex items-center gap-2"
                >
                  <Plus />
                  Track New Job
                </button>
              </div>

              {/* Search and Filter */}
              <div className="flex gap-4">
                <div className="flex-1 relative">
                  <div className="absolute left-4 top-1/2 -translate-y-1/2">
                    <Search />
                  </div>
                  <input
                    type="text"
                    placeholder="Search by title or company..."
                    value={searchTerm}
                    onChange={(e) => setSearchTerm(e.target.value)}
                    className="w-full pl-12 pr-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-slate-200 placeholder-slate-500 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 transition-all"
                  />
                </div>
                <div className="relative min-w-[200px]">
                  <div className="absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none z-10">
                    <Filter />
                  </div>
                  <select
                    value={filterCountry}
                    onChange={(e) => setFilterCountry(e.target.value)}
                    className="w-full pl-12 pr-4 py-3 bg-gradient-to-r from-cyan-600 to-blue-600 border border-cyan-500 rounded-xl text-white font-medium focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all appearance-none cursor-pointer hover:from-cyan-500 hover:to-blue-500"
                  >
                    <option value="">All Countries</option>
                    {uniqueCountries.map(country => (
                      <option key={country} value={country}>{country}</option>
                    ))}
                  </select>
                </div>
              </div>
            </div>
          </div>

          {/* Kanban Board */}
          <div className="max-w-[1800px] mx-auto px-6 py-8">
            <div className="grid grid-cols-5 gap-6">
              {stages.map((stage, idx) => {
                const stageJobs = getJobsByStage(stage);
                const stageColors = {
                  'Applied': 'from-blue-600 to-blue-500',
                  'Interview': 'from-purple-600 to-purple-500',
                  'Offered': 'from-emerald-600 to-emerald-500',
                  'Accepted': 'from-cyan-600 to-cyan-500',
                  'Rejected': 'from-red-600 to-red-500'
                };

                return (
                  <div key={stage} className="flex flex-col h-[calc(100vh-320px)]">
                    <div className={`bg-gradient-to-br ${stageColors[stage]} rounded-t-xl p-4 shadow-lg`}>
                      <h2 className="text-white font-bold text-lg mb-1">{stage}</h2>
                      <p className="text-white/70 text-sm">{stageJobs.length} jobs</p>
                    </div>
                    <div className="flex-1 bg-slate-800/30 rounded-b-xl p-4 overflow-y-auto space-y-3 border-x border-b border-slate-700/50">
                      {stageJobs.map((job) => (
                        <div
                          key={job.id}
                          className="group bg-slate-800 rounded-xl p-4 border border-slate-700 hover:border-cyan-500/50 transition-all duration-300 hover:shadow-lg hover:shadow-cyan-500/10"
                        >
                          <div className="flex items-start justify-between mb-3">
                            <div className="flex-1">
                              <h3 className="font-semibold text-slate-100 mb-1 line-clamp-2 group-hover:text-cyan-400 transition-colors">
                                {job.title}
                              </h3>
                              <div className="flex items-center gap-2 text-slate-400 text-sm">
                                <Briefcase />
                                <span className="font-medium">{job.company}</span>
                              </div>
                            </div>
                            {job.url && (
                              <a
                                href={job.url}
                                target="_blank"
                                rel="noopener noreferrer"
                                onClick={(e) => e.stopPropagation()}
                                className="p-2 hover:bg-slate-700 rounded-lg transition-colors"
                              >
                                <ExternalLink />
                              </a>
                            )}
                          </div>

                          <div className="space-y-2 mb-3">
                            {job.city && (
                              <div className="flex items-center gap-2 text-slate-400 text-xs">
                                <MapPin />
                                <span>{job.city}</span>
                              </div>
                            )}
                            {job.country && (
                              <div className="flex items-center gap-2 text-slate-400 text-xs">
                                <Globe />
                                <span>{job.country}</span>
                              </div>
                            )}
                            {job.salary && (
                              <div className="flex items-center gap-2 text-slate-400 text-xs">
                                <DollarSign />
                                <span>{job.salary}</span>
                              </div>
                            )}
                            <div className="flex items-center gap-2 text-slate-400 text-xs">
                              <Calendar />
                              <span>Applied {getRelativeTime(job.appliedDate || job.lastUpdate)}</span>
                            </div>
                            {job.visaSponsored && job.visaSponsored !== 'Not sure' && (
                              <div className="mt-2">
                                <span className={`inline-block px-2 py-1 rounded text-xs font-medium ${
                                  job.visaSponsored === 'Yes' 
                                    ? 'bg-emerald-500/20 text-emerald-400 border border-emerald-500/30' 
                                    : 'bg-red-500/20 text-red-400 border border-red-500/30'
                                }`}>
                                  Visa: {job.visaSponsored}
                                </span>
                              </div>
                            )}
                          </div>

                          {/* Action Buttons */}
                          <div className="mt-3 pt-3 border-t border-slate-700/50 flex flex-col gap-2">
                            <button
                              onClick={() => handleEdit(job)}
                              className="w-full px-3 py-2 bg-slate-700/50 hover:bg-cyan-600/20 text-slate-300 hover:text-cyan-400 rounded-lg text-xs font-medium transition-all duration-200 flex items-center justify-center gap-2"
                            >
                              <Edit2 />
                              Edit
                            </button>
                            <button
                              onClick={() => handleDelete(job.id)}
                              className="w-full px-3 py-2 bg-slate-700/50 hover:bg-red-600/20 text-slate-300 hover:text-red-400 rounded-lg text-xs font-medium transition-all duration-200 flex items-center justify-center gap-2"
                            >
                              <Trash2 />
                              Delete
                            </button>
                          </div>

                          {/* Move to next stage */}
                          {stage !== 'Accepted' && stage !== 'Rejected' && (
                            <button
                              onClick={() => moveJob(job.id, stages[idx + 1])}
                              className="w-full mt-2 px-3 py-2 bg-gradient-to-r from-cyan-600/20 to-blue-600/20 hover:from-cyan-600/30 hover:to-blue-600/30 text-cyan-400 rounded-lg text-xs font-medium transition-all duration-200 flex items-center justify-center gap-2"
                            >
                              Move to {stages[idx + 1]}
                              <ChevronRight />
                            </button>
                          )}
                        </div>
                      ))}
                      
                      {stageJobs.length === 0 && (
                        <div className="text-center py-12 text-slate-500">
                          <p className="text-sm">No jobs in this stage</p>
                        </div>
                      )}
                    </div>
                  </div>
                );
              })}
            </div>
          </div>

          {/* Modal */}
          {showModal && (
            <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm">
              <div className="bg-slate-800 rounded-2xl shadow-2xl border border-slate-700 w-full max-w-2xl max-h-[90vh] overflow-y-auto">
                <div className="sticky top-0 bg-slate-800 border-b border-slate-700 p-6 flex items-center justify-between">
                  <h2 className="text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400">
                    {editingJob ? 'Edit Job' : 'Track New Job'}
                  </h2>
                  <button
                    onClick={() => {
                      setShowModal(false);
                      resetForm();
                    }}
                    className="p-2 hover:bg-slate-700 rounded-lg transition-colors"
                  >
                    <X />
                  </button>
                </div>

                <form onSubmit={handleSubmit} className="p-6 space-y-5">
                  <div>
                    <label className="block text-sm font-medium text-slate-300 mb-2">
                      Job Ad URL
                    </label>
                    <input
                      type="url"
                      value={formData.url}
                      onChange={(e) => setFormData({...formData, url: e.target.value})}
                      placeholder="https://..."
                      className="w-full px-4 py-3 bg-slate-900/50 border border-slate-700 rounded-xl text-slate-200 placeholder-slate-500 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 transition-all"
                    />
                  </div>

                  <div>
                    <label className="block text-sm font-medium text-slate-300 mb-2">
                      Job Title *
                    </label>
                    <input
                      type="text"
                      required
                      value={formData.title}
                      onChange={(e) => setFormData({...formData, title: e.target.value})}
                      placeholder="e.g., AI Engineer"
                      className="w-full px-4 py-3 bg-slate-900/50 border border-slate-700 rounded-xl text-slate-200 placeholder-slate-500 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 transition-all"
                    />
                  </div>

                  <div>
                    <label className="block text-sm font-medium text-slate-300 mb-2">
                      Company Name *
                    </label>
                    <input
                      type="text"
                      required
                      value={formData.company}
                      onChange={(e) => setFormData({...formData, company: e.target.value})}
                      placeholder="e.g., Substance"
                      className="w-full px-4 py-3 bg-slate-900/50 border border-slate-700 rounded-xl text-slate-200 placeholder-slate-500 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 transition-all"
                    />
                  </div>

                  <div className="grid grid-cols-2 gap-4">
                    <div>
                      <label className="block text-sm font-medium text-slate-300 mb-2">
                        City
                      </label>
                      <input
                        type="text"
                        value={formData.city}
                        onChange={(e) => setFormData({...formData, city: e.target.value})}
                        placeholder="e.g., Paris"
                        className="w-full px-4 py-3 bg-slate-900/50 border border-slate-700 rounded-xl text-slate-200 placeholder-slate-500 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 transition-all"
                      />
                    </div>
                    <div>
                      <label className="block text-sm font-medium text-slate-300 mb-2">
                        Country *
                      </label>
                      <input
                        type="text"
                        required
                        value={formData.country}
                        onChange={(e) => setFormData({...formData, country: e.target.value})}
                        placeholder="e.g., France"
                        className="w-full px-4 py-3 bg-slate-900/50 border border-slate-700 rounded-xl text-slate-200 placeholder-slate-500 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 transition-all"
                      />
                    </div>
                  </div>

                  <div>
                    <label className="block text-sm font-medium text-slate-300 mb-2">
                      Salary
                    </label>
                    <input
                      type="text"
                      value={formData.salary}
                      onChange={(e) => setFormData({...formData, salary: e.target.value})}
                      placeholder="e.g., 50000€ or ~50000€"
                      className="w-full px-4 py-3 bg-slate-900/50 border border-slate-700 rounded-xl text-slate-200 placeholder-slate-500 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 transition-all"
                    />
                    <p className="text-xs text-slate-500 mt-1">If salary is mentioned in job ad: 50000€, if not: ~50000€</p>
                  </div>

                  <div>
                    <label className="block text-sm font-medium text-slate-300 mb-2">
                      Visa Sponsored?
                    </label>
                    <select
                      value={formData.visaSponsored}
                      onChange={(e) => setFormData({...formData, visaSponsored: e.target.value})}
                      className="w-full px-4 py-3 bg-slate-900/50 border border-slate-700 rounded-xl text-slate-200 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 transition-all"
                    >
                      <option value="Yes">Yes</option>
                      <option value="No">No</option>
                      <option value="Not sure">Not sure</option>
                    </select>
                  </div>

                  <div>
                    <label className="block text-sm font-medium text-slate-300 mb-2">
                      Applied Date
                    </label>
                    <input
                      type="date"
                      value={formData.appliedDate}
                      onChange={(e) => setFormData({...formData, appliedDate: e.target.value})}
                      className="w-full px-4 py-3 bg-slate-900/50 border border-slate-700 rounded-xl text-slate-200 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 transition-all"
                    />
                  </div>

                  <div>
                    <label className="block text-sm font-medium text-slate-300 mb-2">
                      Status
                    </label>
                    <select
                      value={formData.status}
                      onChange={(e) => setFormData({...formData, status: e.target.value})}
                      className="w-full px-4 py-3 bg-slate-900/50 border border-slate-700 rounded-xl text-slate-200 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 transition-all"
                    >
                      {stages.map(stage => (
                        <option key={stage} value={stage}>{stage}</option>
                      ))}
                    </select>
                  </div>

                  <div className="flex gap-3 pt-4">
                    <button
                      type="button"
                      onClick={() => {
                        setShowModal(false);
                        resetForm();
                      }}
                      className="flex-1 px-6 py-3 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-xl font-medium transition-all duration-200"
                    >
                      Cancel
                    </button>
                    <button
                      type="submit"
                      className="flex-1 px-6 py-3 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-cyan-500/30 transition-all duration-200 flex items-center justify-center gap-2"
                    >
                      <Save />
                      {editingJob ? 'Update Job' : 'Add Job'}
                    </button>
                  </div>
                </form>
              </div>
            </div>
          )}
        </div>
      );
    }

    ReactDOM.render(<JobTracker />, document.getElementById('root'));
  </script>
</body>
</html>
